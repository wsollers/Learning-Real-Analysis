% =========================================================
% Proof: Compactness of Logical Consequence
% Source: volume-i/propositional-logic/notes/metatheory/notes-compactness.tex
% =========================================================

\subsection*{Compactness of Logical Consequence}
\label{prf:consequence-compact}

\begin{remark}[Return]
\hyperref[cor:consequence-compact]{$\leftarrow$ Back to Corollary (Compactness of Logical Consequence) in Notes}
\end{remark}

\begin{proof}
\Claim If $\Gamma \models \varphi$, then there exists a finite subset $\Gamma_0 \subseteq \Gamma$ with $\Gamma_0 \models \varphi$.

\Given The Compactness Theorem
(\hyperref[thm:compactness]{Theorem~(Compactness)}): $\Gamma$ is satisfiable
if and only if every finite subset of $\Gamma$ is satisfiable. The definition
of logical consequence: $\Gamma \models \varphi$ iff every truth assignment
satisfying $\Gamma$ also satisfies $\varphi$.

\Goal If $\Gamma \models \varphi$, find a finite $\Gamma_0 \subseteq \Gamma$
with $\Gamma_0 \models \varphi$.

\Strategy Contrapositive. Suppose for every finite $\Gamma_0 \subseteq \Gamma$,
$\Gamma_0 \not\models \varphi$. We show $\Gamma \not\models \varphi$.

Consider $\Delta := \Gamma \cup \{\neg\varphi\}$. Let $\Delta_0$ be any finite
subset of $\Delta$. Then $\Delta_0 = \Gamma_0 \cup F$ where $\Gamma_0
\subseteq \Gamma$ is finite and $F \subseteq \{\neg\varphi\}$.

\textit{If $F = \varnothing$:} $\Delta_0 = \Gamma_0$. By hypothesis,
$\Gamma_0 \not\models \varphi$, so there is a truth assignment $v$ with $v
\models \Gamma_0$ and $v \not\models \varphi$, i.e.\ $v \models \neg\varphi$.
Then $v \models \Gamma_0 \cup \{\neg\varphi\} \supseteq \Delta_0$, so $\Delta_0$
is satisfiable.

\textit{If $F = \{\neg\varphi\}$:} $\Delta_0 = \Gamma_0 \cup \{\neg\varphi\}$.
Again by hypothesis there is $v \models \Gamma_0$ with $v \not\models \varphi$,
so $v \models \neg\varphi$. Then $v \models \Delta_0$.

In both cases every finite subset of $\Delta$ is satisfiable. By the
Compactness Theorem, $\Delta$ is satisfiable: some $v$ satisfies $\Gamma$ and
$\neg\varphi$. Therefore $\Gamma \not\models \varphi$. \AsReq
\end{proof}

\begin{remark}[Proof shape]
Same structure as the companion proof
(\hyperref[prf:compactness-consequence-old]{Compactness for Logical Consequence}):
contrapositive, augment with $\neg\varphi$, apply Compactness. The extra case
split ($F = \varnothing$ vs.\ $F = \{\neg\varphi\}$) makes the verification
that every finite subset of $\Delta$ is satisfiable fully explicit.
\end{remark}

\begin{remark}[Why two versions of this proof exist]
The notes-compactness file (row 64) states the corollary informally in an
early section; the metatheory/notes-compactness file (row 65) restates it in
the fully-structured toolkit format with labels. Both proofs have the same
logical content; the distinction is organisational.
\end{remark}

\begin{remark}[Dependencies]
The proof depends on: the Compactness Theorem
(\hyperref[thm:compactness]{Theorem~(Compactness)}) and the definition of
semantic entailment $\models$.
\end{remark}
