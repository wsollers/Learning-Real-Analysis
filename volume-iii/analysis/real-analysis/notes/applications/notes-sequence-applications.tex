% ---------------------------------------------------------
% Toolkit
% ---------------------------------------------------------
\begin{tcolorbox}[title=Toolkit: Sequence Applications]
\begin{tabular}{@{}p{0.28\textwidth}p{0.68\textwidth}@{}}
\textbf{Core items} & Key definitions/results introduced in this file.\\
\textbf{How to use} & Read the boxed items first; proofs and consequences follow.\\
\textbf{Dependencies} & Refer back to earlier sections as needed.\\
\end{tabular}
\end{tcolorbox}

% =========================================================
% Dependency Graph B: Sequences -> Series -> Power Series
% Paper: 8.5x11, margins 0.5in
% Requires: \usepackage{tikz} \usetikzlibrary{arrows.meta,positioning,calc,fit}
% =========================================================

\begin{figure}[p]
\centering
\begin{tikzpicture}[
  >=Latex,
  scale=0.92, transform shape,
  node distance=13mm and 28mm,
  box/.style={
    draw, rounded corners=2pt, align=center,
    inner sep=4pt, text width=38mm
  },
  bigbox/.style={
    draw, rounded corners=3pt, align=center,
    inner sep=5pt, text width=52mm
  },
  group/.style={
    draw, rounded corners=4pt, inner sep=9pt
  },
  imp/.style={->, thick},
  soft/.style={->, dashed, thick}
]

% =====================================================
% LEFT COLUMN — SERIES LAYER
% =====================================================

\node[box] (seqconv)
{Sequence convergence\\($\varepsilon$–definition)};

\node[box, below=of seqconv] (partial)
{Partial sums\\$s_N=\sum_{n=1}^N a_n$};

\node[bigbox, below=of partial] (seriesconv)
{Series convergence\\$\sum a_n$ converges\\$\Leftrightarrow s_N$ converges};

\node[box, below=of seriesconv] (absconv)
{Absolute convergence\\$\sum |a_n|$ converges};

\node[box, below=of absconv] (condconv)
{Conditional convergence\\($\sum a_n$ conv., $\sum|a_n|$ div.)};

\node[box, below=of condconv] (rearr)
{Rearrangements\\(stable if abs.\ conv.)};

\node[box, below=of rearr] (cauchyprod)
{Cauchy product\\(when justified)};

\node[box, above=of seqconv] (tests)
{Series tests\\(comparison/limit comp./ratio/root/condensation/...)};

\node[box, above=16mm of tests] (asymp)
{Growth \& Asymptotics\\(ratio/root, $o(\cdot),\sim$, Stolz--Ces\`aro)};

% Arrows (left)
\draw[imp]  (seqconv) -- (partial);
\draw[imp]  (partial) -- (seriesconv);
\draw[imp]  (absconv) -- (seriesconv);
\draw[soft] (condconv) -- (seriesconv);
\draw[imp]  (condconv) -- (rearr);
\draw[imp]  (rearr) -- (cauchyprod);
\draw[imp]  (tests) -- (seriesconv);
\draw[imp]  (asymp) -- (tests);

% =====================================================
% RIGHT COLUMN — POWER SERIES LAYER
% =====================================================

\node[bigbox, right=86mm of seriesconv] (powerseries)
{Power series\\$\sum_{n=0}^\infty c_n(x-a)^n$};

\node[box, below=of powerseries] (radius)
{Radius of convergence\\(Radius theorem)};

\node[box, below=of radius] (hadamard)
{Cauchy--Hadamard\\$\displaystyle \frac{1}{R}=\limsup \sqrt[n]{|c_n|}$};

\node[box, below=of hadamard] (absinside)
{Absolute convergence\\for $|x-a|<R$};

\node[box, below=of absinside] (uniform)
{Uniform convergence\\on compact subsets\\$|x-a|\le r<R$};

\node[box, below=of uniform] (termwise)
{Term-by-term differentiation/integration\\(when justified)};

% Arrows (right)
\draw[imp] (powerseries) -- (radius);
\draw[imp] (radius) -- (hadamard);
\draw[imp] (hadamard) -- (absinside);
\draw[imp] (absinside) -- (uniform);
\draw[imp] (uniform) -- (termwise);

% Cross-links
\draw[imp]  (absconv.east) -- (powerseries.west);

% Make the dashed arrow less intrusive (route it cleanly)
\draw[soft] (tests.east) to[out=0,in=120] (hadamard.west);

% =====================================================
% GROUP BOXES
% =====================================================

\node[group,
  fit=(tests)(seqconv)(partial)(seriesconv)(absconv)(condconv)(rearr)(cauchyprod),
  label={[yshift=2mm]above:{\small Series layer}}
] {};

\node[group,
  fit=(powerseries)(radius)(hadamard)(absinside)(uniform)(termwise),
  label={[yshift=2mm]above:{\small Power series layer}}
] {};

\node[group,
  fit=(asymp),
  label={[yshift=2mm]above:{\small Supporting asymptotics}}
] {};

\end{tikzpicture}
\caption{Dependency graph: sequences $\rightarrow$ series $\rightarrow$ absolute convergence $\rightarrow$ power series and radius of convergence.}
\end{figure}
