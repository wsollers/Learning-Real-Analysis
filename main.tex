\documentclass[11pt]{report}

% ============================================================
% Packages
% ============================================================

% Page layout
\usepackage[margin=1in]{geometry}

% AMS math
\usepackage{amsmath, amssymb, amsthm}
\usepackage{mathtools}

% Lists and tables
\usepackage{enumitem}
\usepackage{longtable}
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{makecell}

% Colours and links
\usepackage{xcolor}
\usepackage{hyperref}
\usepackage{bookmark}

% TikZ
\usepackage{tikz}
\usetikzlibrary{
  arrows.meta,
  backgrounds,
  calc,
  decorations.pathreplacing,
  decorations.markings,
  fit,
  patterns,
  positioning,
  shapes.geometric
}

% Miscellaneous
\usepackage{stmaryrd}
\usepackage{multicol}
\usepackage{checkend}
\usepackage{placeins}
\usepackage{float}
% Bibliography
\usepackage[authoryear]{natbib}

% ---------- Requirements ----------
% Put these in your preamble if not already present:
\usepackage{tikz}
\usepackage{enumitem}
\usepackage{microtype}
\usepackage{xparse}
\usepackage{expl3}

\usepackage{etoolbox}

\usepackage{array}

% ============================================================
% Three-column proof table column types
% ============================================================
\newcolumntype{T}{p{0.06\textwidth}}
\newcolumntype{S}{>{\everymath{\displaystyle}$\displaystyle}p{0.44\textwidth}<{$}}
\newcolumntype{J}{p{0.40\textwidth}}

\usepackage{booktabs}

\usepackage{xcolor}
\usepackage{mdframed}

\usepackage{tcolorbox}


% ============================================================
% Colours
% ============================================================

\definecolor{indexblue}{HTML}{1a3a6b}
\definecolor{natblue}{HTML}{2e6db4}
\definecolor{realorange}{HTML}{c45c13}
\definecolor{sigmagreen}{HTML}{1a6b3a}
\definecolor{lightblue}{HTML}{dce8f7}
\definecolor{lightorange}{HTML}{fde8d8}
\definecolor{propbox}{HTML}{f0f4ff}
\definecolor{propborder}{HTML}{7a9fd4}

% ============================================================
% Theorem environments
% ============================================================

\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{axiom}[theorem]{Axiom}
\newtheorem{assumption}[theorem]{Assumption}

\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{example}[theorem]{Example}
\newtheorem{principle}[theorem]{Principle}

\theoremstyle{plain}
\newtheorem*{theorem*}{Theorem}
\newtheorem*{lemma*}{Lemma}
\newtheorem*{proposition*}{Proposition}
\newtheorem*{corollary*}{Corollary}
\theoremstyle{definition}
\newtheorem*{definition*}{Definition}
\newtheorem*{axiom*}{Axiom}
\newtheorem*{assumption*}{Assumption}
\theoremstyle{remark}
\newtheorem*{remark*}{Remark}
\newtheorem*{example*}{Example}
\newtheorem*{principle*}{Principle}
% ============================================================
% Proof-writing macros
% ============================================================

\newcommand{\Given}{\textbf{Given.}\ }
\newcommand{\Goal}{\textbf{Goal.}\ }
\newcommand{\Strategy}{\textbf{Strategy.}\ }
\newcommand{\ProofPlan}{\textbf{Plan.}\ }
\newcommand{\Recall}{\textbf{Recall.}\ }
\newcommand{\Claim}{\textbf{Claim.}\ }
\newcommand{\Wlog}{\textit{Without loss of generality}}
\newcommand{\Fix}{\textbf{Fix.}\ }
\newcommand{\Let}{\textbf{Let.}\ }
\newcommand{\Choose}{\textbf{Choose.}\ }
\newcommand{\Take}{\textbf{Take.}\ }
\newcommand{\Note}{\textbf{Note.}\ }
\newcommand{\ByDef}{\textbf{By definition,}\ }
\newcommand{\ByAss}{\textbf{By assumption,}\ }
\newcommand{\ByThm}[1]{\textbf{By #1,}\ }
\newcommand{\Thus}{\textbf{Thus,}\ }
\newcommand{\Hence}{\textbf{Hence,}\ }
\newcommand{\Therefore}{\textbf{Therefore,}\ }
\newcommand{\AsReq}{\textbf{as required.}}
\newcommand{\checkbox}{$\square$\ }

% ============================================================
% Proof annotation macros
% ============================================================
\newcommand{\tagDU}{\textbf{\textcolor{blue!70!black}{DU}}}
\newcommand{\tagTA}{\textbf{\textcolor{green!50!black}{TA}}}
\newcommand{\tagAM}{\textbf{\textcolor{orange!80!black}{AM}}}

% ============================================================
% Math operators
% ============================================================

\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\dom}{dom}
\DeclareMathOperator{\cod}{cod}
\DeclareMathOperator{\im}{im}

% ============================================================
% Citation macros
% ============================================================
\newcommand{\srccite}[1]{%
  \textsc{\citeauthor{#1}}%
}

\newcommand{\srcciteauthor}[1]{%
  \textsc{\citeauthor{#1}}%
}

\newcommand{\srccitesection}[2]{%
  \textsc{\citeauthor{#1}}, \textit{#2} [\citeyear{#1}]%
}

% ============================================================
% Layout
% ============================================================

\setlength{\parskip}{0.75\baselineskip}
\setlength{\parindent}{0pt}
\setlist[itemize]{leftmargin=*}

\hypersetup{
  colorlinks = true,
  linkcolor  = blue!60!black,
  citecolor  = blue!60!black,
  urlcolor   = blue!60!black,
}

% ============================================================
% Numbering and TOC depth
% ============================================================

\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{3}

\renewcommand{\thesection}{\arabic{section}}
\renewcommand{\thesubsection}{\thesection.\arabic{subsection}}
\renewcommand{\thesubsubsection}{\thesubsection.\arabic{subsubsection}}

% ============================================================
% Document
% ============================================================

\begin{document}
\ExplSyntaxOff
% ── Cover page ────────────────────────────────────────────────────────────────
\begin{titlepage}
  \centering
  \vspace*{2.5cm}
  {\Huge\bfseries Learning Abstract Mathematics\par}
  \vspace{1.5cm}
  {\Large A Structured Journey Through Logic, Sets, Algebra, and Analysis\par}
  \vspace{2.5cm}
  {\Large William E. Sollers III\par}
  \vspace{1cm}
  {\large \today\par}
  \vfill
  {\large ``Proof is the price of admission.''\par}
\end{titlepage}

% ── Front matter ──────────────────────────────────────────────────────────────
\tableofcontents
\clearpage

% ── Chapters ──────────────────────────────────────────────────────────────────
\input{map}
\input{propositional-logic/index}
\input{predicate-calculus/index}
\input{sets-relations-functions/index}
\input{proof-techniques/index}
\input{axiom-systems/index}
\input{real-line-foundations/index}
\input{set-algebras/index}
\input{intro-metric-spaces/index}
\input{intro-point-set-topology/index}

\input{intro-algebraic-structures/index}
\input{linear-algebra/index}
\input{abstract-algebra/index}
\input{algebraic-geometry/index}
% ── Glossary ──────────────────────────────────────────────────────────────────
\input{glossary-foundations}

% ── Appendices ────────────────────────────────────────────────────────────────
\appendix
\clearpage \input{appendices/logical-fallacies}
\clearpage \input{appendices/proof-techniques}
\clearpage \input{appendices/rules-to-remember}
\clearpage \input{appendices/propositional-logic-rules}
\clearpage \input{appendices/proof-style-guide}
\clearpage \input{appendices/tips}

% ── Bibliography ──────────────────────────────────────────────────────────────
\clearpage
\bibliographystyle{plainnat}
\bibliography{bibliography/analysis}

\end{document}